{% extends "base.html" %}
{% block content %}
<section class="card">
  <h2>KonÄ›</h2>
  <form action="/horses/new" method="post" class="row grid2">
    <input type="text" name="name" placeholder="JmÃ©no konÄ›" required>
    <input type="text" name="notes" placeholder="PoznÃ¡mka (volitelnÃ©)">
    <button type="submit">âž• PÅ™idat konÄ›</button>
  </form>
</section>

<section class="card">
  <h3>Seznam</h3>
  <table>
    <thead>
      <tr><th>JmÃ©no</th><th>PoznÃ¡mka</th><th>Prahy (km/h)</th><th>JÃ­zd</th><th>Akce</th></tr>
    </thead>
    <tbody>
    {% for h in horses %}
      <tr>
        <td colspan="5">
          <div class="grid4 row">
            <form action="/horse/{{ h.id }}/update" method="post" class="grid4 row">
              <input type="text" name="name" value="{{ h.name }}" required>
              <input type="text" name="notes" value="{{ h.notes or '' }}" placeholder="PoznÃ¡mka">
              <div>
                <label>Krokâ†’Klus</label>
                <input type="text" name="walk_trot_kmh" value="{{ h.walk_trot_kmh or '' }}" style="max-width:7em" placeholder="napÅ™. 7.0">
                <label style="margin-left:8px;">Klusâ†’Cval</label>
                <input type="text" name="trot_canter_kmh" value="{{ h.trot_canter_kmh or '' }}" style="max-width:7em" placeholder="napÅ™. 13.0">
              </div>
              <div class="actions">
                <a class="button" href="/horse/{{ h.id }}">Detail</a>
                <button type="submit">ðŸ’¾ UloÅ¾it</button>
                <span class="muted">{{ h.rides|length }} jÃ­zd</span>
              </div>
            </form>
            <form action="/horse/{{ h.id }}/delete" method="post" onsubmit="return confirm('Smazat konÄ› a odpojit jeho jÃ­zdy?')" style="display:flex;align-items:center;gap:8px;">
              <button class="button danger" type="submit">ðŸ—‘ Smazat</button>
            </form>
          </div>
        </td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}
